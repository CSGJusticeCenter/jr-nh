---
title: "Belknap County Trends"
output: 
  distill::distill_article:
    toc: true
    toc_depth: 3
    self_contained: false
---

```{r include=FALSE}
# call libraries
library(easypackages)
libraries("tidyverse","foreign","lubridate","reshape2", "ggplot2","RColorBrewer","knitr","forcats","openxlsx","statar","svDialogs","xlsx", "magrittr","stringr", "data.table","janitor","kableExtra","leaflet", "readr", "rmarkdown","rowr", "gganimate", "gifski","tidycensus","sf","htmltools","acs","tigris","mapview","rgeos", "ggrepel", "censusxy","gdata","lavaan","mclust","tmap","scales","raster","rgeos","gmapsdistance","viridis","cowplot","lintr","leaflet.extras","censusapi","data.table","gridGraphics","readxl","haven","ggridges","extrafont","extrafontdb","datamodelr","Lahman","DiagrammeR","fs","readxl","rsvg","V8","ragg","ggtext","csgjcr","distill","ezknitr")

source("data_cleaning/00_library.R")
source("data_cleaning/01_functions.R")
source("data_cleaning/13_dataframes.R")
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo=FALSE, 
  message=FALSE, 
  warning=FALSE,
  dev = "ragg_png",
  cache = FALSE
  )
```

```{r include=FALSE}
### set theme
theme_set(theme_minimal())
```

# Jail admissions

### Demographics

```{r}
fnc_freq_table(belknap_race, "Race/Ethnicity") 
```

```{r}
fnc_freq_table(belknap_sex, "Sex")
```

### Booking Type

```{r}
fnc_booking_heatmap(belknap_heatmap)
```

```{r}
fnc_freq_table(belknap_booking, "Booking Type")
```

### Sentence Status

```{r}
fnc_freq_table(belknap_sentence, "Sentence Status")
```

# High Utilizers

High utilizers are defined as individuals who were booked into jail more than 3 times in a fiscal year.  

### Demographics

```{r}
fnc_freq_table(belknap_hu_race, "Race/Ethnicity") 
```

```{r}
fnc_freq_table(belknap_hu_sex, "Sex")
```

### Booking Type

```{r}
fnc_freq_table(belknap_hu_booking, "Booking Type")
```

### Sentence Status

Sentence status types of high utilizers (numbers represent individual bookings, not the number of individuals).  

```{r}
fnc_freq_table(belknap_hu_sentence, "Sentence Status")
```
