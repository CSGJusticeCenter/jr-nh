---
title: "Incarceration Patterns"
output: 
  distill::distill_article:
    toc: true
    toc_depth: 3
    self_contained: false
---

The following incarceration patterns were found using jail administrative data submitted directly to CSG.   

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo=FALSE, 
  message=FALSE, 
  warning=FALSE,
  #dev = "ragg_png",
  cache = FALSE
  )

# load packages
source("data_cleaning/00_library.R")

# load data
load(paste0(sp_data_path, "/Data/r_data/nh_people_booked_amt.Rda",          sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_counties.Rda",                   sep = ""))

load(paste0(sp_data_path, "/Data/r_data/nh_people_booked.Rda",              sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_people_booked_county.Rda",       sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_people_booked_barchart.Rda",     sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_people_booked_change_19_20.Rda", sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_people_booked_change_20_21.Rda", sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_people_booked_change_19_21.Rda", sep = ""))

load(paste0(sp_data_path, "/Data/r_data/nh_bookings.Rda",                   sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_bookings_amt.Rda",               sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_bookings_county.Rda",            sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_bookings_barchart.Rda",          sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_bookings_change_19_20.Rda",      sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_bookings_change_20_21.Rda",      sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_bookings_change_19_21.Rda",      sep = ""))

load(paste0(sp_data_path, "/Data/r_data/nh_booking_by_fy.Rda",              sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_pch_time_highchart.Rda",         sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_pch_table.Rda",                  sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_pch_pct_amt.Rda",                sep = ""))
load(paste0(sp_data_path, "/Data/r_data/pch_counties.Rda",                  sep = ""))

load(paste0(sp_data_path, "/Data/r_data/nh_pc_holds_county.Rda",            sep = ""))
load(paste0(sp_data_path, "/Data/r_data/nh_pc_hold_recordings.Rda",         sep = ""))

```

# Jail Admissions

## People Booked By State

Please Note: This section shows the number of individual people booked per fiscal year, regardless of the number of times booked. This does not reflect the total number of bookings, which is a later section.  

```{r, results='asis'}
# print header for pc hold section
cat("**There were ", nh_people_booked_amt, " people booked into NH jails from FY2019 to FY2021 (regardless of the number of times booked).**"," This finding was calculated using data from the following counties: ", nh_counties, ".\n\n", sep = "")
```
```{r}
nh_people_booked_barchart
```

```{r, results='asis'}
cat("**The number of people booked into jails has been decreasing. There was a ", nh_people_booked_change_19_20, "% decrease between FY2019 and FY2020, and ", nh_people_booked_change_20_21, "% decrease between FY2020 and FY2021. There was an overall decrease of ", nh_people_booked_change_19_21, "% between FY2019 and FY2021.**\n\n", sep = "")
```
```{r}
nh_people_booked
```

## People Booked By County

Counties saw variations in the number of people booked into jails but they all saw a decrease in the past three years.

```{r}
nh_people_booked_county
```

<br>

## Number of Bookings By State

Please Note: This section reflects the number of bookings per fiscal year, not the number of people. Therefore, people could be counted more than once if they were booked into jail more than once in a fiscal year.    

```{r, results='asis'}
# print header for pc hold section
cat("**There were ", nh_bookings_amt, " bookings across New Hampshire from FY2019 to FY2021.**"," This finding was calculated using data from the following counties: ", nh_counties, ".\n\n", sep = "")
```

```{r}
nh_bookings_barchart
```

```{r, results='asis'}
cat("**The number of bookings has been decreasing. There was a ", nh_bookings_change_19_20, "% decrease between FY2019 and FY2020, and ", nh_bookings_change_20_21, "% decrease between FY2020 and FY2021. There was an overall decrease of ", nh_bookings_change_19_21, "% between FY2019 and FY2021.**\n\n", sep = "")
```

```{r}
nh_bookings
```

<br>

## Number of Bookings By County

Counties saw variations in the number of bookings but they all saw a decrease in the past three years.

```{r}
nh_bookings_county
```

<br>


# Protective Custody Holds

## By State

```{r, results='asis'}
# print header for pc hold section
cat("**Protective custody holds accounted for ", nh_pch_pct_amt, "% of bookings from 2019 to 2021.**"," This finding was calculated using data from the following counties: ", pch_counties, ". Coos removes bookings that are PC holds so Coos's administrative data (671 bookings) is not included in this section. Strafford did not provide data on charges or booking types so they were removed as well (12,233 bookings).\n\n", sep = "")
```
**Although the number of bookings has been decreasing, the proportion of PC holds has remained the same.**

```{r}
nh_pch_table 
```
<br>


**Protective custody holds tend to occur most frequently during summer months. There was a decline in protective custody holds at the start of the pandemic but they began climbing again shortly after.**  

```{r}
# protective custody holds over time
nh_pch_time_highchart %>%   
  hc_caption(text = paste("<em>Counties included: ", toString(pch_counties), "</em>")) 
```

## By County

The proportion of bookings that were protective custody holds varied greatly by county. The table below shows the number of and proportion of bookings that included a protective custody hold charge.  

Belknap had the highest proportion of bookings that were protective custody holds.  

```{r}
nh_pc_holds_county
```

## How Protective Custody Holds Are Recorded

Each county records PC holds differently. PC holds are recorded in the charge description, booking type, sentence status, or release type, and sometimes across these metrics. See below for how each county records PC holds and the "outcomes" of these holds.  

Coming soon.
