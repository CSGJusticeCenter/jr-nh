---
title: "Bookings Recorded by Belknap"
output: 
  distill::distill_article:
    toc: true
    toc_depth: 3
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo=FALSE, 
  message=FALSE, 
  warning=FALSE,
  dev = "ragg_png",
  cache = FALSE
  )

source("data_cleaning/00_library.R")
source("data_cleaning/01_functions.R")
source("data_cleaning/01_functions_visuals.R")
source("data_cleaning/rdas.R")
```

Booking Types:  

1. ADMINISTRATIVE TRANSFER  
2. OVERNIGHT HOLD  
3. DUAL   
4. NH STATE PRISONER   
5. PRETRIAL   
6. PROTECTIVE CUSTODY   
7. SENTENCED/SENTENCING    

<br>

# Overview

```{r}
data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           #charge_desc,
           booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_booking_recordings(data1))
```

You can see in the table above that some protective custody holds were recorded in the booking type OR the charge description, which means the booking type was either pretrial or protective custody. The booking type should always be protective custody holds in these cases so the booking type was standardized.

<br>

### ADMINISTRATIVE TRANSFER

```{r}

data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  filter(booking_type_standard == "ADMINISTRATIVE TRANSFER") %>% 
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           charge_desc,
           #booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_charges_booking_recordings(data1))
```

<br>

### OVERNIGHT HOLD

```{r}

data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  filter(booking_type_standard == "OVERNIGHT HOLD") %>% 
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           charge_desc,
           #booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_charges_booking_recordings(data1))
```

<br>

### DUAL

```{r}

data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  filter(booking_type_standard == "DUAL") %>% 
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           charge_desc,
           #booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_charges_booking_recordings(data1))
```

<br>

### NH State Prisoner

```{r}
data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  filter(booking_type_standard == "NH STATE PRISONER") %>% 
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           charge_desc,
           #booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_charges_booking_recordings(data1))
```

<br>

### Pretrial

```{r}

data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  filter(booking_type_standard == "PRETRIAL") %>% 
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           charge_desc,
           #booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_charges_booking_recordings(data1))
```

<br>

### Protective Custody

```{r}

data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  filter(booking_type_standard == "PROTECTIVE CUSTODY") %>% 
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           charge_desc,
           #booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_charges_booking_recordings(data1))
```

<br>

### SENTENCED/SENTENCING  

```{r}

data1 <- SAVE_adm_all %>%
  filter(county == "Belknap") %>%
  filter(booking_type_standard == "SENTENCED/SENTENCING") %>% 
  select(id,
         booking_id,
         charge_code,
         charge_desc,
         booking_type,
         booking_type_standard,
         sentence_status,
         release_type
         ) %>%
  distinct() %>%
  group_by(#charge_code,
           charge_desc,
           #booking_type,
           booking_type_standard,
           sentence_status,
           release_type) %>%
  summarise(total = n()) %>% 
  arrange(booking_type_standard)

# Custom function for booking recordings table
# Shows how each county records things differently
(table1 <- fnc_reactable_charges_booking_recordings(data1))
```

<br>
<br>















